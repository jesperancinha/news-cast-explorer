<div>

    <mat-form-field *ngIf="validateCurrentMessageSelection()">
        <input matInput (keyup)="applyFilterToMessages($event.target.value)" placeholder="Filter message"
               [value]="filterMessages">
    </mat-form-field>
    <perfectScrollbar style="max-width: 100%; max-height: 300px;"
                      *ngIf="validateCurrentMessageSelection()">
        <table mat-table [dataSource]="messagesSelected" class="mat-elevation-z8">

            <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef>Created at</th>
                <td mat-cell *matCellDef="let element"> {{toDate(element.createdAt * 1000)}} </td>
            </ng-container>

            <ng-container matColumnDef="text">
                <th mat-header-cell *matHeaderCellDef>Message</th>
                <td mat-cell *matCellDef="let element"> {{element.text}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedMessagesColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedMessagesColumns;"></tr>

        </table>
    </perfectScrollbar>
</div>
